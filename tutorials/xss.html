<html>
    <!-- For STEM Club XSS demo-->
    <title>XSS Demo</title>
    <style>
        html {
            font-family: Arial, Helvetica, sans-serif
        }
    </style>
    <body>
        <label for="msg">Enter a message to display!</label>
        <input type="text" id ="msg"></input>
        <button onclick ="postMsg()">Save</button>
        <p>Your message:</p>
        <div id ="saved_msg"></div>
        <p id ="link"></p>
    </body>
        <script>

            /* Loads any saved message*/
            url = new URL("https://ayjstem.github.io/tutorials/xss")
            QueryString = window.location.search; 
            urlParams = new URLSearchParams(QueryString); 
            if(urlParams.get('msg')){
            saved_msg = urlParams.get('msg');
            document.getElementById("saved_msg").insertAdjacentHTML("afterend",saved_msg);
            }
            function postMsg(){
                var saved_msg = document.getElementById('msg').value;
                document.getElementById("saved_msg").insertAdjacentHTML("afterend",saved_msg);
                url.searchParams.append('msg',saved_msg);
                document.getElementById("link").innerHTML = "Share this link to share your message: " + url;
            }
        </script>
</html>